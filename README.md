# A Pentesting Cookbook
A collection of brief recepies for pentesting

## Preparations

### Prepare a Windows 10 test machine
Run the below in powershell with admin permissions on a fresh install of Windows 10

```powershell

Set-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
choco install sql-server-2019 -y
choco install sql-server-management-studio -y
choco install vscode -y
choco install googlechrome -y
choco install firefox -y
choco install visualstudio2019community -y

```

## Credentials
The following techniques can be used to harvest credentials

### Kerberoasting
### Responder
### Mimikatz


## Passwords

1. Create a g4dn.xlarge instance with the  [Deep Learning AMI (Ubuntu 18.04)](https://docs.aws.amazon.com/dlami/latest/devguide/ubuntu18-04.html) on AWS
2. Log on to the instance and prepare for cracking:

```bash
git clone https://github.com/jonasonline/cracking-instance && cd cracking-instance && sudo chmod +x PreparePwdCrack.sh && ./PreparePwdCrack.sh
```
3. Create and start a nvidia docker container using **one** of the commands below
 * **Kerberoasting tickets**
 ```bash
 nvidia-docker run --rm -t -d -v /var/tmp/pwds:/var/tmp/pwds jonasonline/nvidiahashcat:latest hashcat -a 0 -m 13100 /var/tmp/pwds/input/[hash_file] /var/tmp/pwds/wordlists/[wordlist_file] -o /var/tmp/pwds/output/result.txt -O -r /var/tmp/pwds/rules/password_cracking_rules/OneRuleToRuleThemAll.rule 
 ```

 * **NTLM hashes**
 ```bash
 nvidia-docker run --rm -t -d -v /var/tmp/pwds:/var/tmp/pwds jonasonline/nvidiahashcat:latest hashcat -a 0 -m 1000 /var/tmp/pwds/input/[hash_file] /var/tmp/pwds/wordlists/[wordlist_file] -o /var/tmp/pwds/output/result.txt -O -r /var/tmp/pwds/rules/password_cracking_rules/OneRuleToRuleThemAll.rule 
 ```

 * **NetNTLMv2 hashes**
 ```bash
 nvidia-docker run --rm -t -d -v /var/tmp/pwds:/var/tmp/pwds jonasonline/nvidiahashcat:latest hashcat -a 0 -m 5600 /var/tmp/pwds/input/[hash_file] /var/tmp/pwds/wordlists/[wordlist_file] -o /var/tmp/pwds/output/result.txt -O -r /var/tmp/pwds/rules/password_cracking_rules/OneRuleToRuleThemAll.rule 
 ```

## Pivoting

## Exploiting